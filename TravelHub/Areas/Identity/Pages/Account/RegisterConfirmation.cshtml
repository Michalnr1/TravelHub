@page
@model RegisterConfirmationModel
@{
    ViewData["Title"] = "Register confirmation";
}

<h1>@ViewData["Title"]</h1>

@{
    if (TempData["ResendSuccess"] != null && (bool)TempData["ResendSuccess"])
    {
        <div class="alert alert-success" role="alert">
            Confirmation email has been sent successfully. Please check your inbox.
        </div>
    }
}

@{
    if (Model.DisplayConfirmAccountLink)
    {
        <div class="alert alert-info">
            <p>
                This app does not currently have a real email sender registered.
                Normally this would be emailed:
                <a id="confirm-link" href="@Model.EmailConfirmationUrl" class="btn btn-primary">
                    Click here to confirm your account
                </a>
            </p>
        </div>
    }
    else
    {
        <div class="alert alert-success">
            <h4>Registration Successful!</h4>
            <p>
                We have sent a confirmation email to <strong>@Model.Email</strong>.
            </p>
            <p>
                Please check your email and click the confirmation link to activate your account.
            </p>
            <p class="mb-0">
                If you don't see the email, please check your spam folder.
            </p>
        </div>
    }
}

@if (Model.CanResendEmail)
{
    <div class="mt-4">
        <form method="post" asp-page-handler="ResendConfirmation">
            <input type="hidden" name="email" value="@Model.Email" />
            <input type="hidden" name="returnUrl" value="@ViewData["ReturnUrl"]" />
            <p>
                Didn't receive the email?
                <button type="submit" class="btn btn-link p-0 ml-1" style="vertical-align: baseline;">
                    Click here to send again
                </button>
            </p>
        </form>
    </div>
}

<div class="mt-3">
    <a asp-page="./Login" class="btn btn-secondary">Back to Login</a>
</div>